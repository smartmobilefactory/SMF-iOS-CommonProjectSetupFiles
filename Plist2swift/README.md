# Plist2Swift

Plist2swift generates swift code from given plist files. It will gather keys that are common for all plist and generate a protocol out of them. Keys that are unique to a plist will be added as optionals and a default implementation will be provided in extensions.

#### Note

<mark>*configurationName*</mark> key has to be added to the plist


## Example

Give plist A and plist B, we can generate swift code like so:

`swift Plist2swift.swift A.plist B.plist`

Now let's take a look into the plists and the generated code.

Plist A:

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>configurationName</key>
	<string>Alpha</string>
	<key>privateKey</key>
	<string>fsfhor4hrbih13r938ryafsdofbo1urb1 balblala</string>
	<key>inAlpha</key>
	<string>This is only in Alpha</string>
	<key>shouldSign</key>
	<true/>
	<key>numberItem</key>
	<integer>123</integer>
	<key>dateItem</key>
	<date>2018-09-11T08:10:30Z</date>
</dict>
</plist>
```

Plist B:

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>configurationName</key>
	<string>Beta</string>
	<key>inBeta</key>
	<string>This string is not in Alpha, only in Beta</string>
	<key>privateKey</key>
	<string>fdfsfsgfdgeqwerwfredvzxcw</string>
	<key>shouldSign</key>
	<false/>
	<key>numberItem</key>
	<integer>456</integer>
	<key>dateItem</key>
	<date>2018-09-11T08:10:30Z</date>
</dict>
</plist>
```

Generated Swift Code:

```
//
// Generated by plist2swift - Swift code from plists generator
// (c) Smart Mobile Factory GmbH
//
// Generated on: 2018-09-13 09:22:09 +0000
//

import Foundation

protocol SMFPlistProtocol {
	// Common Keys
	static var numberItem: Int { get }
	static var privateKey: String { get }
	static var dateItem: String { get }
	static var configurationName: String { get }
	static var shouldSign: Bool { get }
	// Optional Keys
	static var inAlpha: String? { get }
	static var inBeta: String? { get }
}


internal enum Api {
	case alpha
	internal struct AlphaStruct {
		internal static let numberItem: Int = 123
		internal static let privateKey: String = "fsfhor4hrbih13r938ryafsdofbo1urb1 balblala"
		internal static let dateItem: String = "2018-09-11 08:10:30 +0000"
		internal static let configurationName: String = "Alpha"
		internal static let shouldSign: Bool = true
	}
	case beta
	internal struct BetaStruct {
		internal static let numberItem: Int = 456
		internal static let privateKey: String = "fdfsfsgfdgeqwerwfredvzxcw"
		internal static let dateItem: String = "2018-09-11 08:10:30 +0000"
		internal static let configurationName: String = "Beta"
		internal static let shouldSign: Bool = false
	}


	var configuration: SMFPlistProtocol {
		switch self {
		case .alpha:
			return AlphaStruct()
		case .beta:
			return BetaStruct()
		}
	}
}

extension Api.AlphaStruct: SMFPlistProtocol {
	static var inAlpha: String? {
		return "This is only in Alpha"
	}
	static var inBeta: String? {
		return nil
	}
}

extension Api.BetaStruct: SMFPlistProtocol {
	static var inAlpha: String? {
		return nil
	}
	static var inBeta: String? {
		return "This string is not in Alpha, only in Beta"
	}
}
```

